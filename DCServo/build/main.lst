ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/main.c"
  18              		.section	.text.TIM4_IRQHandler,"ax",%progbits
  19              		.align	1
  20              		.global	TIM4_IRQHandler
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	TIM4_IRQHandler:
  26              	.LFB70:
   1:Core/Src/main.c **** #include "main.h"
   2:Core/Src/main.c **** #include "FreeRTOS.h"
   3:Core/Src/main.c **** #include "task.h"
   4:Core/Src/main.c **** #include "queue.h"
   5:Core/Src/main.c **** #include "semphr.h"
   6:Core/Src/main.c **** 
   7:Core/Src/main.c **** #define pi	3.141592654
   8:Core/Src/main.c **** 
   9:Core/Src/main.c **** uint16_t High_lim, Low_lim;
  10:Core/Src/main.c **** float Kp, Ki, Kd, Kb, Ts, alpha;
  11:Core/Src/main.c **** 
  12:Core/Src/main.c **** QueueHandle_t EncoderQueue;
  13:Core/Src/main.c **** QueueHandle_t UARTQueue;
  14:Core/Src/main.c **** 
  15:Core/Src/main.c **** SemaphoreHandle_t EncoderSemaphore;
  16:Core/Src/main.c **** 
  17:Core/Src/main.c **** // void EncoderTask(void* vParameters);
  18:Core/Src/main.c **** void ControllerTask(void* vParametes);
  19:Core/Src/main.c **** void PID(float SetPoint, float CurrentValue);
  20:Core/Src/main.c **** // void CommunicationTask(void* vParameters);
  21:Core/Src/main.c **** 
  22:Core/Src/main.c **** int16_t Counter;
  23:Core/Src/main.c **** void TIM4_IRQHandler(void)
  24:Core/Src/main.c **** {
  27              		.loc 1 24 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 08B5     		push	{r3, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 3, -8
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 2


  35              		.cfi_offset 14, -4
  25:Core/Src/main.c ****     if ((TIM4->SR & TIM_SR_CC1IF) || (TIM4->SR & TIM_SR_CC2IF))
  36              		.loc 1 25 5 view .LVU1
  37              		.loc 1 25 14 is_stmt 0 view .LVU2
  38 0002 0A4B     		ldr	r3, .L5
  39 0004 1B69     		ldr	r3, [r3, #16]
  40              		.loc 1 25 8 view .LVU3
  41 0006 13F0020F 		tst	r3, #2
  42 000a 04D1     		bne	.L2
  43              		.loc 1 25 43 discriminator 1 view .LVU4
  44 000c 074B     		ldr	r3, .L5
  45 000e 1B69     		ldr	r3, [r3, #16]
  46              		.loc 1 25 35 discriminator 1 view .LVU5
  47 0010 13F0040F 		tst	r3, #4
  48 0014 08D0     		beq	.L1
  49              	.L2:
  26:Core/Src/main.c ****     {
  27:Core/Src/main.c ****         TIM4->SR &= ~(TIM_SR_CC1IF | TIM_SR_CC2IF);
  50              		.loc 1 27 9 is_stmt 1 view .LVU6
  51              		.loc 1 27 13 is_stmt 0 view .LVU7
  52 0016 054A     		ldr	r2, .L5
  53 0018 1369     		ldr	r3, [r2, #16]
  54              		.loc 1 27 18 view .LVU8
  55 001a 23F00603 		bic	r3, r3, #6
  56 001e 1361     		str	r3, [r2, #16]
  28:Core/Src/main.c **** 		
  29:Core/Src/main.c **** 		Counter = Get_Encoder();
  57              		.loc 1 29 3 is_stmt 1 view .LVU9
  58              		.loc 1 29 13 is_stmt 0 view .LVU10
  59 0020 FFF7FEFF 		bl	Get_Encoder
  60              	.LVL0:
  61              		.loc 1 29 11 discriminator 1 view .LVU11
  62 0024 024B     		ldr	r3, .L5+4
  63 0026 1880     		strh	r0, [r3]	@ movhi
  64              	.L1:
  30:Core/Src/main.c ****     }
  31:Core/Src/main.c **** }
  65              		.loc 1 31 1 view .LVU12
  66 0028 08BD     		pop	{r3, pc}
  67              	.L6:
  68 002a 00BF     		.align	2
  69              	.L5:
  70 002c 00080040 		.word	1073743872
  71 0030 00000000 		.word	Counter
  72              		.cfi_endproc
  73              	.LFE70:
  75              		.section	.text.TIM2_IRQHandler,"ax",%progbits
  76              		.align	1
  77              		.global	TIM2_IRQHandler
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  82              	TIM2_IRQHandler:
  83              	.LFB71:
  32:Core/Src/main.c **** 
  33:Core/Src/main.c **** 
  34:Core/Src/main.c **** /**
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 3


  35:Core/Src/main.c ****  * 1s cycle interrupt then Controller Task works
  36:Core/Src/main.c ****  * 10ms cycle interrupt then Controller Task does not work
  37:Core/Src/main.c ****  */
  38:Core/Src/main.c **** void TIM2_IRQHandler(void)
  39:Core/Src/main.c **** {
  84              		.loc 1 39 1 is_stmt 1 view -0
  85              		.cfi_startproc
  86              		@ args = 0, pretend = 0, frame = 8
  87              		@ frame_needed = 0, uses_anonymous_args = 0
  40:Core/Src/main.c ****     if (TIM2->SR & TIM_SR_UIF)
  88              		.loc 1 40 5 view .LVU14
  89              		.loc 1 40 13 is_stmt 0 view .LVU15
  90 0000 4FF08043 		mov	r3, #1073741824
  91 0004 1B69     		ldr	r3, [r3, #16]
  92              		.loc 1 40 8 view .LVU16
  93 0006 13F0010F 		tst	r3, #1
  94 000a 00D1     		bne	.L14
  95 000c 7047     		bx	lr
  96              	.L14:
  39:Core/Src/main.c ****     if (TIM2->SR & TIM_SR_UIF)
  97              		.loc 1 39 1 view .LVU17
  98 000e 00B5     		push	{lr}
  99              	.LCFI1:
 100              		.cfi_def_cfa_offset 4
 101              		.cfi_offset 14, -4
 102 0010 83B0     		sub	sp, sp, #12
 103              	.LCFI2:
 104              		.cfi_def_cfa_offset 16
 105              	.LBB2:
  41:Core/Src/main.c ****     {
  42:Core/Src/main.c ****         TIM2->SR &= ~TIM_SR_UIF;
 106              		.loc 1 42 9 is_stmt 1 view .LVU18
 107              		.loc 1 42 13 is_stmt 0 view .LVU19
 108 0012 4FF08042 		mov	r2, #1073741824
 109 0016 1369     		ldr	r3, [r2, #16]
 110              		.loc 1 42 18 view .LVU20
 111 0018 23F00103 		bic	r3, r3, #1
 112 001c 1361     		str	r3, [r2, #16]
  43:Core/Src/main.c **** 
  44:Core/Src/main.c **** 		BaseType_t xHigherPriorityTaskWoken = pdFAIL;
 113              		.loc 1 44 3 is_stmt 1 view .LVU21
 114              		.loc 1 44 14 is_stmt 0 view .LVU22
 115 001e 0023     		movs	r3, #0
 116 0020 0193     		str	r3, [sp, #4]
  45:Core/Src/main.c **** 		xQueueSendFromISR(EncoderQueue, &Counter, &xHigherPriorityTaskWoken);
 117              		.loc 1 45 3 is_stmt 1 view .LVU23
 118 0022 01AA     		add	r2, sp, #4
 119 0024 0C49     		ldr	r1, .L15
 120 0026 0D48     		ldr	r0, .L15+4
 121 0028 0068     		ldr	r0, [r0]
 122 002a FFF7FEFF 		bl	xQueueGenericSendFromISR
 123              	.LVL1:
  46:Core/Src/main.c **** 		xSemaphoreGiveFromISR(EncoderSemaphore, &xHigherPriorityTaskWoken);
 124              		.loc 1 46 3 view .LVU24
 125 002e 01A9     		add	r1, sp, #4
 126 0030 0B4B     		ldr	r3, .L15+8
 127 0032 1868     		ldr	r0, [r3]
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 4


 128 0034 FFF7FEFF 		bl	xQueueGiveFromISR
 129              	.LVL2:
  47:Core/Src/main.c **** 		portEND_SWITCHING_ISR(xHigherPriorityTaskWoken);
 130              		.loc 1 47 3 view .LVU25
 131              		.loc 1 47 3 view .LVU26
 132 0038 019B     		ldr	r3, [sp, #4]
 133 003a 4BB1     		cbz	r3, .L7
 134              		.loc 1 47 3 discriminator 1 view .LVU27
 135 003c 4FF0E023 		mov	r3, #-536813568
 136 0040 4FF08052 		mov	r2, #268435456
 137 0044 C3F8042D 		str	r2, [r3, #3332]
 138              		.loc 1 47 3 discriminator 1 view .LVU28
 139              		.syntax unified
 140              	@ 47 "Core/Src/main.c" 1
 141 0048 BFF34F8F 		dsb
 142              	@ 0 "" 2
 143              		.loc 1 47 3 discriminator 1 view .LVU29
 144              	@ 47 "Core/Src/main.c" 1
 145 004c BFF36F8F 		isb
 146              	@ 0 "" 2
 147              		.loc 1 47 3 discriminator 3 view .LVU30
 148              		.loc 1 47 3 discriminator 3 view .LVU31
 149              		.thumb
 150              		.syntax unified
 151              	.L7:
 152              	.LBE2:
  48:Core/Src/main.c ****     }
  49:Core/Src/main.c **** }
 153              		.loc 1 49 1 is_stmt 0 view .LVU32
 154 0050 03B0     		add	sp, sp, #12
 155              	.LCFI3:
 156              		.cfi_def_cfa_offset 4
 157              		@ sp needed
 158 0052 5DF804FB 		ldr	pc, [sp], #4
 159              	.L16:
 160 0056 00BF     		.align	2
 161              	.L15:
 162 0058 00000000 		.word	Counter
 163 005c 00000000 		.word	EncoderQueue
 164 0060 00000000 		.word	EncoderSemaphore
 165              		.cfi_endproc
 166              	.LFE71:
 168              		.section	.text.main,"ax",%progbits
 169              		.align	1
 170              		.global	main
 171              		.syntax unified
 172              		.thumb
 173              		.thumb_func
 175              	main:
 176              	.LFB72:
  50:Core/Src/main.c **** 
  51:Core/Src/main.c **** 
  52:Core/Src/main.c **** 
  53:Core/Src/main.c **** int main(void)
  54:Core/Src/main.c **** {
 177              		.loc 1 54 1 is_stmt 1 view -0
 178              		.cfi_startproc
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 5


 179              		@ Volatile: function does not return.
 180              		@ args = 0, pretend = 0, frame = 0
 181              		@ frame_needed = 0, uses_anonymous_args = 0
 182 0000 00B5     		push	{lr}
 183              	.LCFI4:
 184              		.cfi_def_cfa_offset 4
 185              		.cfi_offset 14, -4
 186 0002 83B0     		sub	sp, sp, #12
 187              	.LCFI5:
 188              		.cfi_def_cfa_offset 16
  55:Core/Src/main.c **** 	HAL_Init();
 189              		.loc 1 55 2 view .LVU34
 190 0004 FFF7FEFF 		bl	HAL_Init
 191              	.LVL3:
  56:Core/Src/main.c **** 	SystemClock_Config();
 192              		.loc 1 56 2 view .LVU35
 193 0008 FFF7FEFF 		bl	SystemClock_Config
 194              	.LVL4:
  57:Core/Src/main.c **** 	MX_GPIO_Init();
 195              		.loc 1 57 2 view .LVU36
 196 000c FFF7FEFF 		bl	MX_GPIO_Init
 197              	.LVL5:
  58:Core/Src/main.c **** 	USART1_Init();
 198              		.loc 1 58 2 view .LVU37
 199 0010 FFF7FEFF 		bl	USART1_Init
 200              	.LVL6:
  59:Core/Src/main.c **** 	Base_Init();
 201              		.loc 1 59 2 view .LVU38
 202 0014 FFF7FEFF 		bl	Base_Init
 203              	.LVL7:
  60:Core/Src/main.c **** 	Encoder_Init();
 204              		.loc 1 60 2 view .LVU39
 205 0018 FFF7FEFF 		bl	Encoder_Init
 206              	.LVL8:
  61:Core/Src/main.c **** 	PWM_init();
 207              		.loc 1 61 2 view .LVU40
 208 001c FFF7FEFF 		bl	PWM_init
 209              	.LVL9:
  62:Core/Src/main.c **** 
  63:Core/Src/main.c **** 	LED_PC13();
 210              		.loc 1 63 2 view .LVU41
 211 0020 FFF7FEFF 		bl	LED_PC13
 212              	.LVL10:
  64:Core/Src/main.c **** 
  65:Core/Src/main.c **** 	// Queue Init
  66:Core/Src/main.c **** 	EncoderQueue = xQueueCreate(20, sizeof(int16_t));
 213              		.loc 1 66 2 view .LVU42
 214              		.loc 1 66 17 is_stmt 0 view .LVU43
 215 0024 0022     		movs	r2, #0
 216 0026 0221     		movs	r1, #2
 217 0028 1420     		movs	r0, #20
 218 002a FFF7FEFF 		bl	xQueueGenericCreate
 219              	.LVL11:
 220              		.loc 1 66 15 discriminator 1 view .LVU44
 221 002e 114B     		ldr	r3, .L21
 222 0030 1860     		str	r0, [r3]
  67:Core/Src/main.c **** 	UARTQueue = xQueueCreate(1, sizeof(char)*100);
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 6


 223              		.loc 1 67 2 is_stmt 1 view .LVU45
 224              		.loc 1 67 14 is_stmt 0 view .LVU46
 225 0032 0022     		movs	r2, #0
 226 0034 6421     		movs	r1, #100
 227 0036 0120     		movs	r0, #1
 228 0038 FFF7FEFF 		bl	xQueueGenericCreate
 229              	.LVL12:
 230              		.loc 1 67 12 discriminator 1 view .LVU47
 231 003c 0E4B     		ldr	r3, .L21+4
 232 003e 1860     		str	r0, [r3]
  68:Core/Src/main.c **** 
  69:Core/Src/main.c **** 	// Semaphore Init
  70:Core/Src/main.c **** 	vSemaphoreCreateBinary(EncoderSemaphore);
 233              		.loc 1 70 2 is_stmt 1 view .LVU48
 234 0040 0322     		movs	r2, #3
 235 0042 0021     		movs	r1, #0
 236 0044 0120     		movs	r0, #1
 237 0046 FFF7FEFF 		bl	xQueueGenericCreate
 238              	.LVL13:
 239              		.loc 1 70 2 is_stmt 0 discriminator 1 view .LVU49
 240 004a 0C4B     		ldr	r3, .L21+8
 241 004c 1860     		str	r0, [r3]
 242              		.loc 1 70 2 is_stmt 1 discriminator 1 view .LVU50
 243 004e 20B1     		cbz	r0, .L18
 244              		.loc 1 70 2 discriminator 1 view .LVU51
 245 0050 0023     		movs	r3, #0
 246 0052 1A46     		mov	r2, r3
 247 0054 1946     		mov	r1, r3
 248 0056 FFF7FEFF 		bl	xQueueGenericSend
 249              	.LVL14:
 250              	.L18:
 251              		.loc 1 70 42 discriminator 3 view .LVU52
  71:Core/Src/main.c **** 
  72:Core/Src/main.c **** 
  73:Core/Src/main.c **** 	xTaskCreate(ControllerTask, NULL, configMINIMAL_STACK_SIZE, NULL, 4, NULL);
 252              		.loc 1 73 2 view .LVU53
 253 005a 0021     		movs	r1, #0
 254 005c 0191     		str	r1, [sp, #4]
 255 005e 0423     		movs	r3, #4
 256 0060 0093     		str	r3, [sp]
 257 0062 0B46     		mov	r3, r1
 258 0064 8022     		movs	r2, #128
 259 0066 0648     		ldr	r0, .L21+12
 260 0068 FFF7FEFF 		bl	xTaskCreate
 261              	.LVL15:
  74:Core/Src/main.c **** 	// xTaskCreate(CommunicationTask, NULL, configMINIMAL_STACK_SIZE, NULL, 1, NULL);
  75:Core/Src/main.c **** 
  76:Core/Src/main.c **** 
  77:Core/Src/main.c **** 	vTaskStartScheduler();
 262              		.loc 1 77 2 view .LVU54
 263 006c FFF7FEFF 		bl	vTaskStartScheduler
 264              	.LVL16:
 265              	.L19:
  78:Core/Src/main.c **** 
  79:Core/Src/main.c **** 	while (1)
 266              		.loc 1 79 2 view .LVU55
  80:Core/Src/main.c **** 	{}
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 7


 267              		.loc 1 80 3 view .LVU56
  79:Core/Src/main.c **** 	{}
 268              		.loc 1 79 8 view .LVU57
 269 0070 FEE7     		b	.L19
 270              	.L22:
 271 0072 00BF     		.align	2
 272              	.L21:
 273 0074 00000000 		.word	EncoderQueue
 274 0078 00000000 		.word	UARTQueue
 275 007c 00000000 		.word	EncoderSemaphore
 276 0080 00000000 		.word	ControllerTask
 277              		.cfi_endproc
 278              	.LFE72:
 280              		.global	__aeabi_fsub
 281              		.global	__aeabi_fmul
 282              		.global	__aeabi_f2d
 283              		.global	__aeabi_fadd
 284              		.global	__aeabi_fdiv
 285              		.global	__aeabi_dmul
 286              		.global	__aeabi_dadd
 287              		.global	__aeabi_d2f
 288              		.global	__aeabi_f2iz
 289              		.global	__aeabi_ui2f
 290              		.section	.text.PID,"ax",%progbits
 291              		.align	1
 292              		.global	PID
 293              		.syntax unified
 294              		.thumb
 295              		.thumb_func
 297              	PID:
 298              	.LVL17:
 299              	.LFB74:
  81:Core/Src/main.c **** }
  82:Core/Src/main.c **** 
  83:Core/Src/main.c **** 
  84:Core/Src/main.c **** /**
  85:Core/Src/main.c ****  * Controller Task calculates control value every time timer 2 interrupt sends semaphore
  86:Core/Src/main.c ****  */
  87:Core/Src/main.c **** float SetPoint, CurrentValue;
  88:Core/Src/main.c **** void ControllerTask(void* vParametes)
  89:Core/Src/main.c **** {
  90:Core/Src/main.c **** 	int16_t CntReceive;
  91:Core/Src/main.c **** 	// float CurrentValue;
  92:Core/Src/main.c **** 	char buffer[100];
  93:Core/Src/main.c **** 	for(;;)
  94:Core/Src/main.c **** 	{
  95:Core/Src/main.c **** 		xQueueReceive(EncoderQueue, &CntReceive, portMAX_DELAY);
  96:Core/Src/main.c **** 		xSemaphoreTake(EncoderSemaphore, portMAX_DELAY);
  97:Core/Src/main.c **** 
  98:Core/Src/main.c **** 
  99:Core/Src/main.c **** 		CurrentValue = CntReceive * 360.0 / (4.0 * 11 * 45);
 100:Core/Src/main.c **** 
 101:Core/Src/main.c **** 		PID(SetPoint, CurrentValue);
 102:Core/Src/main.c **** 
 103:Core/Src/main.c **** 		// sprintf(buffer, "SetPoint: %f; CurrentValue: %f\r\n", SetPoint, CurrentValue);
 104:Core/Src/main.c **** 		// SendString(buffer);
 105:Core/Src/main.c **** 	}
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 8


 106:Core/Src/main.c **** }
 107:Core/Src/main.c **** 
 108:Core/Src/main.c **** 
 109:Core/Src/main.c **** // void CommunicationTask(void* vParametes)
 110:Core/Src/main.c **** // {
 111:Core/Src/main.c **** // 	char buffer[100];
 112:Core/Src/main.c **** // 	for(;;)
 113:Core/Src/main.c **** // 	{
 114:Core/Src/main.c **** // 		if (xQueueReceive(UARTQueue, &buffer, portMAX_DELAY) == pdTRUE)
 115:Core/Src/main.c **** // 		{
 116:Core/Src/main.c **** // 			SendString(buffer);
 117:Core/Src/main.c **** // 			SendString("Communication Task!\r\n");
 118:Core/Src/main.c **** //       		vTaskDelay(pdMS_TO_TICKS(2000));
 119:Core/Src/main.c **** // 		}
 120:Core/Src/main.c **** // 	}
 121:Core/Src/main.c **** // }
 122:Core/Src/main.c **** 
 123:Core/Src/main.c **** void PID(float SetPoint, float CurrentValue)
 124:Core/Src/main.c **** {
 300              		.loc 1 124 1 view -0
 301              		.cfi_startproc
 302              		@ args = 0, pretend = 0, frame = 24
 303              		@ frame_needed = 0, uses_anonymous_args = 0
 304              		.loc 1 124 1 is_stmt 0 view .LVU59
 305 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 306              	.LCFI6:
 307              		.cfi_def_cfa_offset 36
 308              		.cfi_offset 4, -36
 309              		.cfi_offset 5, -32
 310              		.cfi_offset 6, -28
 311              		.cfi_offset 7, -24
 312              		.cfi_offset 8, -20
 313              		.cfi_offset 9, -16
 314              		.cfi_offset 10, -12
 315              		.cfi_offset 11, -8
 316              		.cfi_offset 14, -4
 317 0004 87B0     		sub	sp, sp, #28
 318              	.LCFI7:
 319              		.cfi_def_cfa_offset 64
 125:Core/Src/main.c **** 	uint32_t pwm = 0;
 320              		.loc 1 125 2 is_stmt 1 view .LVU60
 321              	.LVL18:
 126:Core/Src/main.c **** 	
 127:Core/Src/main.c **** 	High_lim = 3600, Low_lim = 0;
 322              		.loc 1 127 2 view .LVU61
 323              		.loc 1 127 11 is_stmt 0 view .LVU62
 324 0006 DFF84081 		ldr	r8, .L26+8
 325 000a 4FF46163 		mov	r3, #3600
 326 000e A8F80030 		strh	r3, [r8]	@ movhi
 327              		.loc 1 127 27 view .LVU63
 328 0012 4E4B     		ldr	r3, .L26+12
 329 0014 0022     		movs	r2, #0
 330 0016 1A80     		strh	r2, [r3]	@ movhi
 128:Core/Src/main.c **** 	static float e_pre = 0, Ui_pre = 0, e_reset = 0, Ud_f_pre = 0;
 331              		.loc 1 128 2 is_stmt 1 view .LVU64
 129:Core/Src/main.c **** 	
 130:Core/Src/main.c **** 	double Up, Ui, Ud, Ud_f;
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 9


 332              		.loc 1 130 2 view .LVU65
 131:Core/Src/main.c **** 	
 132:Core/Src/main.c **** 	Kp = 259.0972;
 333              		.loc 1 132 2 view .LVU66
 334              		.loc 1 132 5 is_stmt 0 view .LVU67
 335 0018 4D4D     		ldr	r5, .L26+16
 336 001a 4E4B     		ldr	r3, .L26+20
 337 001c 1D60     		str	r5, [r3]	@ float
 133:Core/Src/main.c **** 	Ki = 1847.9848;
 338              		.loc 1 133 2 is_stmt 1 view .LVU68
 339              		.loc 1 133 5 is_stmt 0 view .LVU69
 340 001e 4E4B     		ldr	r3, .L26+24
 341 0020 4E4A     		ldr	r2, .L26+28
 342 0022 1A60     		str	r2, [r3]	@ float
 134:Core/Src/main.c **** 	Kd = 7.4299;
 343              		.loc 1 134 2 is_stmt 1 view .LVU70
 344              		.loc 1 134 5 is_stmt 0 view .LVU71
 345 0024 4E4F     		ldr	r7, .L26+32
 346 0026 4F4B     		ldr	r3, .L26+36
 347 0028 1F60     		str	r7, [r3]	@ float
 135:Core/Src/main.c **** 	Kb = 15.771;
 348              		.loc 1 135 2 is_stmt 1 view .LVU72
 349              		.loc 1 135 5 is_stmt 0 view .LVU73
 350 002a 4F4B     		ldr	r3, .L26+40
 351 002c 4F4A     		ldr	r2, .L26+44
 352 002e 1A60     		str	r2, [r3]	@ float
 136:Core/Src/main.c **** 
 137:Core/Src/main.c **** 	Ts = 0.01, alpha = 0.9;
 353              		.loc 1 137 2 is_stmt 1 view .LVU74
 354              		.loc 1 137 5 is_stmt 0 view .LVU75
 355 0030 4F4E     		ldr	r6, .L26+48
 356 0032 504B     		ldr	r3, .L26+52
 357 0034 1E60     		str	r6, [r3]	@ float
 358              		.loc 1 137 19 view .LVU76
 359 0036 504B     		ldr	r3, .L26+56
 360 0038 504A     		ldr	r2, .L26+60
 361 003a 1A60     		str	r2, [r3]	@ float
 138:Core/Src/main.c **** 	
 139:Core/Src/main.c **** 	float Error = SetPoint - CurrentValue;		// error
 362              		.loc 1 139 2 is_stmt 1 view .LVU77
 363              		.loc 1 139 8 is_stmt 0 view .LVU78
 364 003c FFF7FEFF 		bl	__aeabi_fsub
 365              	.LVL19:
 366              		.loc 1 139 8 view .LVU79
 367 0040 0446     		mov	r4, r0
 368              	.LVL20:
 140:Core/Src/main.c **** 	
 141:Core/Src/main.c **** 	Up = Kp*Error;
 369              		.loc 1 141 2 is_stmt 1 view .LVU80
 370              		.loc 1 141 9 is_stmt 0 view .LVU81
 371 0042 2946     		mov	r1, r5
 372 0044 FFF7FEFF 		bl	__aeabi_fmul
 373              	.LVL21:
 374              		.loc 1 141 5 view .LVU82
 375 0048 FFF7FEFF 		bl	__aeabi_f2d
 376              	.LVL22:
 377 004c CDE90001 		strd	r0, [sp]
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 10


 378              	.LVL23:
 142:Core/Src/main.c **** 	
 143:Core/Src/main.c **** 	Ui = Ui_pre + Ki*Ts*Error + Kb*Ts*e_reset;	// Anti-Windup
 379              		.loc 1 143 2 is_stmt 1 view .LVU83
 380              		.loc 1 143 21 is_stmt 0 view .LVU84
 381 0050 4B49     		ldr	r1, .L26+64
 382 0052 2046     		mov	r0, r4
 383              	.LVL24:
 384              		.loc 1 143 21 view .LVU85
 385 0054 FFF7FEFF 		bl	__aeabi_fmul
 386              	.LVL25:
 387              		.loc 1 143 14 view .LVU86
 388 0058 DFF828A1 		ldr	r10, .L26+68
 389 005c DAF80010 		ldr	r1, [r10]	@ float
 390 0060 FFF7FEFF 		bl	__aeabi_fadd
 391              	.LVL26:
 392 0064 0546     		mov	r5, r0
 393              		.loc 1 143 35 view .LVU87
 394 0066 4849     		ldr	r1, .L26+72
 395 0068 484B     		ldr	r3, .L26+76
 396 006a 1868     		ldr	r0, [r3]	@ float
 397 006c FFF7FEFF 		bl	__aeabi_fmul
 398              	.LVL27:
 399 0070 0146     		mov	r1, r0
 400              		.loc 1 143 28 view .LVU88
 401 0072 2846     		mov	r0, r5
 402 0074 FFF7FEFF 		bl	__aeabi_fadd
 403              	.LVL28:
 404 0078 0546     		mov	r5, r0
 405              		.loc 1 143 5 view .LVU89
 406 007a FFF7FEFF 		bl	__aeabi_f2d
 407              	.LVL29:
 408 007e CDE90201 		strd	r0, [sp, #8]
 409              	.LVL30:
 144:Core/Src/main.c **** 	
 145:Core/Src/main.c **** 	Ud = Kd*(Error - e_pre)/Ts;
 410              		.loc 1 145 2 is_stmt 1 view .LVU90
 411              		.loc 1 145 17 is_stmt 0 view .LVU91
 412 0082 DFF80CB1 		ldr	fp, .L26+80
 413 0086 DBF80010 		ldr	r1, [fp]	@ float
 414 008a 2046     		mov	r0, r4
 415              	.LVL31:
 416              		.loc 1 145 17 view .LVU92
 417 008c FFF7FEFF 		bl	__aeabi_fsub
 418              	.LVL32:
 419              		.loc 1 145 9 view .LVU93
 420 0090 3946     		mov	r1, r7
 421 0092 FFF7FEFF 		bl	__aeabi_fmul
 422              	.LVL33:
 423              		.loc 1 145 25 view .LVU94
 424 0096 3146     		mov	r1, r6
 425 0098 FFF7FEFF 		bl	__aeabi_fdiv
 426              	.LVL34:
 427              		.loc 1 145 5 view .LVU95
 428 009c FFF7FEFF 		bl	__aeabi_f2d
 429              	.LVL35:
 430 00a0 CDE90401 		strd	r0, [sp, #16]
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 11


 431              	.LVL36:
 146:Core/Src/main.c **** 	Ud_f = (1 - alpha)*Ud_f_pre + alpha*Ud;		// low pass fillter
 432              		.loc 1 146 2 is_stmt 1 view .LVU96
 433              		.loc 1 146 20 is_stmt 0 view .LVU97
 434 00a4 DFF8EC90 		ldr	r9, .L26+84
 435 00a8 3B49     		ldr	r1, .L26+88
 436 00aa D9F80000 		ldr	r0, [r9]	@ float
 437              	.LVL37:
 438              		.loc 1 146 20 view .LVU98
 439 00ae FFF7FEFF 		bl	__aeabi_fmul
 440              	.LVL38:
 441 00b2 FFF7FEFF 		bl	__aeabi_f2d
 442              	.LVL39:
 443 00b6 0646     		mov	r6, r0
 444 00b8 0F46     		mov	r7, r1
 445              		.loc 1 146 37 view .LVU99
 446 00ba 21A3     		adr	r3, .L26
 447 00bc D3E90023 		ldrd	r2, [r3]
 448 00c0 DDE90401 		ldrd	r0, [sp, #16]
 449 00c4 FFF7FEFF 		bl	__aeabi_dmul
 450              	.LVL40:
 451 00c8 0246     		mov	r2, r0
 452 00ca 0B46     		mov	r3, r1
 453              		.loc 1 146 7 view .LVU100
 454 00cc 3046     		mov	r0, r6
 455 00ce 3946     		mov	r1, r7
 456 00d0 FFF7FEFF 		bl	__aeabi_dadd
 457              	.LVL41:
 458 00d4 0646     		mov	r6, r0
 459 00d6 0F46     		mov	r7, r1
 460              	.LVL42:
 147:Core/Src/main.c **** 
 148:Core/Src/main.c **** 	// Luu lai cac gia tri
 149:Core/Src/main.c **** 	e_pre = Error;
 461              		.loc 1 149 2 is_stmt 1 view .LVU101
 462              		.loc 1 149 8 is_stmt 0 view .LVU102
 463 00d8 CBF80040 		str	r4, [fp]	@ float
 150:Core/Src/main.c **** 	Ui_pre = Ui;
 464              		.loc 1 150 2 is_stmt 1 view .LVU103
 465              		.loc 1 150 9 is_stmt 0 view .LVU104
 466 00dc CAF80050 		str	r5, [r10]	@ float
 151:Core/Src/main.c **** 	Ud_f_pre = Ud_f;
 467              		.loc 1 151 2 is_stmt 1 view .LVU105
 468              		.loc 1 151 11 is_stmt 0 view .LVU106
 469 00e0 FFF7FEFF 		bl	__aeabi_d2f
 470              	.LVL43:
 471 00e4 C9F80000 		str	r0, [r9]	@ float
 152:Core/Src/main.c **** 	
 153:Core/Src/main.c **** 	float U = Up + Ui + Ud_f;
 472              		.loc 1 153 2 is_stmt 1 view .LVU107
 473              		.loc 1 153 15 is_stmt 0 view .LVU108
 474 00e8 DDE90223 		ldrd	r2, [sp, #8]
 475 00ec DDE90001 		ldrd	r0, [sp]
 476 00f0 FFF7FEFF 		bl	__aeabi_dadd
 477              	.LVL44:
 478              		.loc 1 153 20 view .LVU109
 479 00f4 3246     		mov	r2, r6
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 12


 480 00f6 3B46     		mov	r3, r7
 481 00f8 FFF7FEFF 		bl	__aeabi_dadd
 482              	.LVL45:
 483              		.loc 1 153 8 view .LVU110
 484 00fc FFF7FEFF 		bl	__aeabi_d2f
 485              	.LVL46:
 486 0100 0446     		mov	r4, r0
 487              	.LVL47:
 154:Core/Src/main.c **** 	
 155:Core/Src/main.c **** 	// set rotations
 156:Core/Src/main.c **** 	RotationMode(U);
 488              		.loc 1 156 2 is_stmt 1 view .LVU111
 489 0102 FFF7FEFF 		bl	RotationMode
 490              	.LVL48:
 157:Core/Src/main.c **** 
 158:Core/Src/main.c **** 	uint32_t Uout = abs((int) U);
 491              		.loc 1 158 2 view .LVU112
 492              		.loc 1 158 22 is_stmt 0 view .LVU113
 493 0106 2046     		mov	r0, r4
 494 0108 FFF7FEFF 		bl	__aeabi_f2iz
 495              	.LVL49:
 496              		.loc 1 158 18 view .LVU114
 497 010c 0028     		cmp	r0, #0
 498 010e B8BF     		it	lt
 499 0110 4042     		rsblt	r0, r0, #0
 500              	.LVL50:
 159:Core/Src/main.c **** 
 160:Core/Src/main.c **** 	// Saturated
 161:Core/Src/main.c **** 	if (Uout > High_lim) pwm = High_lim;
 501              		.loc 1 161 2 is_stmt 1 view .LVU115
 502              		.loc 1 161 11 is_stmt 0 view .LVU116
 503 0112 B8F80040 		ldrh	r4, [r8]
 504              	.LVL51:
 505              		.loc 1 161 5 view .LVU117
 506 0116 8442     		cmp	r4, r0
 507 0118 04D3     		bcc	.L24
 162:Core/Src/main.c **** 	else if(Uout < Low_lim) pwm = Low_lim;
 508              		.loc 1 162 7 is_stmt 1 view .LVU118
 509              		.loc 1 162 15 is_stmt 0 view .LVU119
 510 011a 0C4B     		ldr	r3, .L26+12
 511 011c 1C88     		ldrh	r4, [r3]
 512              		.loc 1 162 9 view .LVU120
 513 011e 8442     		cmp	r4, r0
 514 0120 00D8     		bhi	.L24
 125:Core/Src/main.c **** 	
 515              		.loc 1 125 11 view .LVU121
 516 0122 0024     		movs	r4, #0
 517              	.L24:
 518              	.LVL52:
 163:Core/Src/main.c **** 
 164:Core/Src/main.c **** 	e_reset = pwm - Uout;
 519              		.loc 1 164 2 is_stmt 1 view .LVU122
 520              		.loc 1 164 10 is_stmt 0 view .LVU123
 521 0124 201A     		subs	r0, r4, r0
 522              	.LVL53:
 523              		.loc 1 164 10 view .LVU124
 524 0126 FFF7FEFF 		bl	__aeabi_ui2f
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 13


 525              	.LVL54:
 526 012a 184B     		ldr	r3, .L26+76
 527 012c 1860     		str	r0, [r3]	@ float
 165:Core/Src/main.c **** 
 166:Core/Src/main.c **** 	// Set value PWM
 167:Core/Src/main.c **** 	PWM_Set(pwm);
 528              		.loc 1 167 2 is_stmt 1 view .LVU125
 529 012e 2046     		mov	r0, r4
 530 0130 FFF7FEFF 		bl	PWM_Set
 531              	.LVL55:
 168:Core/Src/main.c **** }...
 532              		.loc 1 168 1 is_stmt 0 view .LVU126
 533 0134 07B0     		add	sp, sp, #28
 534              	.LCFI8:
 535              		.cfi_def_cfa_offset 36
 536              	.LVL56:
 537              		.loc 1 168 1 view .LVU127
 538              		@ sp needed
 539 0136 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 540              	.LVL57:
 541              	.L27:
 542              		.loc 1 168 1 view .LVU128
 543 013a 00BFAFF3 		.align	3
 543      0080
 544              	.L26:
 545 0140 000000C0 		.word	-1073741824
 546 0144 CCCCEC3F 		.word	1072483532
 547 0148 00000000 		.word	High_lim
 548 014c 00000000 		.word	Low_lim
 549 0150 718C8143 		.word	1132563569
 550 0154 00000000 		.word	Kp
 551 0158 00000000 		.word	Ki
 552 015c 83FFE644 		.word	1155989379
 553 0160 BEC1ED40 		.word	1089323454
 554 0164 00000000 		.word	Kd
 555 0168 00000000 		.word	Kb
 556 016c 04567C41 		.word	1098667524
 557 0170 0AD7233C 		.word	1008981770
 558 0174 00000000 		.word	Ts
 559 0178 00000000 		.word	alpha
 560 017c 6666663F 		.word	1063675494
 561 0180 BAD69341 		.word	1100207802
 562 0184 00000000 		.word	Ui_pre.3
 563 0188 BB7E213E 		.word	1042382523
 564 018c 00000000 		.word	e_reset.2
 565 0190 00000000 		.word	e_pre.1
 566 0194 00000000 		.word	Ud_f_pre.0
 567 0198 D0CCCC3D 		.word	1036831952
 568              		.cfi_endproc
 569              	.LFE74:
 571              		.global	__aeabi_i2d
 572              		.global	__aeabi_ddiv
 573              		.section	.text.ControllerTask,"ax",%progbits
 574              		.align	1
 575              		.global	ControllerTask
 576              		.syntax unified
 577              		.thumb
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 14


 578              		.thumb_func
 580              	ControllerTask:
 581              	.LFB73:
  89:Core/Src/main.c **** {
 582              		.loc 1 89 1 is_stmt 1 view -0
 583              		.cfi_startproc
 584              		@ Volatile: function does not return.
 585              		@ args = 0, pretend = 0, frame = 8
 586              		@ frame_needed = 0, uses_anonymous_args = 0
 587              	.LVL58:
  89:Core/Src/main.c **** {
 588              		.loc 1 89 1 is_stmt 0 view .LVU130
 589 0000 00B5     		push	{lr}
 590              	.LCFI9:
 591              		.cfi_def_cfa_offset 4
 592              		.cfi_offset 14, -4
 593 0002 83B0     		sub	sp, sp, #12
 594              	.LCFI10:
 595              		.cfi_def_cfa_offset 16
 596              	.LVL59:
 597              	.L29:
  90:Core/Src/main.c **** 	int16_t CntReceive;
 598              		.loc 1 90 2 is_stmt 1 view .LVU131
  92:Core/Src/main.c **** 	char buffer[100];
 599              		.loc 1 92 2 view .LVU132
  93:Core/Src/main.c **** 	for(;;)
 600              		.loc 1 93 2 view .LVU133
  95:Core/Src/main.c **** 		xQueueReceive(EncoderQueue, &CntReceive, portMAX_DELAY);
 601              		.loc 1 95 3 view .LVU134
 602 0004 4FF0FF32 		mov	r2, #-1
 603 0008 0DF10601 		add	r1, sp, #6
 604 000c 124B     		ldr	r3, .L31+8
 605 000e 1868     		ldr	r0, [r3]
 606 0010 FFF7FEFF 		bl	xQueueReceive
 607              	.LVL60:
  96:Core/Src/main.c **** 		xSemaphoreTake(EncoderSemaphore, portMAX_DELAY);
 608              		.loc 1 96 3 view .LVU135
 609 0014 4FF0FF31 		mov	r1, #-1
 610 0018 104B     		ldr	r3, .L31+12
 611 001a 1868     		ldr	r0, [r3]
 612 001c FFF7FEFF 		bl	xQueueSemaphoreTake
 613              	.LVL61:
  99:Core/Src/main.c **** 		CurrentValue = CntReceive * 360.0 / (4.0 * 11 * 45);
 614              		.loc 1 99 3 view .LVU136
  99:Core/Src/main.c **** 		CurrentValue = CntReceive * 360.0 / (4.0 * 11 * 45);
 615              		.loc 1 99 29 is_stmt 0 view .LVU137
 616 0020 BDF90600 		ldrsh	r0, [sp, #6]
 617 0024 FFF7FEFF 		bl	__aeabi_i2d
 618              	.LVL62:
 619 0028 0022     		movs	r2, #0
 620 002a 0D4B     		ldr	r3, .L31+16
 621 002c FFF7FEFF 		bl	__aeabi_dmul
 622              	.LVL63:
  99:Core/Src/main.c **** 		CurrentValue = CntReceive * 360.0 / (4.0 * 11 * 45);
 623              		.loc 1 99 37 view .LVU138
 624 0030 07A3     		adr	r3, .L31
 625 0032 D3E90023 		ldrd	r2, [r3]
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 15


 626 0036 FFF7FEFF 		bl	__aeabi_ddiv
 627              	.LVL64:
 628 003a FFF7FEFF 		bl	__aeabi_d2f
 629              	.LVL65:
 630 003e 0146     		mov	r1, r0
  99:Core/Src/main.c **** 		CurrentValue = CntReceive * 360.0 / (4.0 * 11 * 45);
 631              		.loc 1 99 16 view .LVU139
 632 0040 084B     		ldr	r3, .L31+20
 633 0042 1860     		str	r0, [r3]	@ float
 101:Core/Src/main.c **** 		PID(SetPoint, CurrentValue);
 634              		.loc 1 101 3 is_stmt 1 discriminator 1 view .LVU140
 635 0044 084B     		ldr	r3, .L31+24
 636 0046 1868     		ldr	r0, [r3]	@ float
 637 0048 FFF7FEFF 		bl	PID
 638              	.LVL66:
  93:Core/Src/main.c **** 	for(;;)
 639              		.loc 1 93 2 view .LVU141
 640 004c DAE7     		b	.L29
 641              	.L32:
 642 004e 00BF     		.align	3
 643              	.L31:
 644 0050 00000000 		.word	0
 645 0054 00F09E40 		.word	1084157952
 646 0058 00000000 		.word	EncoderQueue
 647 005c 00000000 		.word	EncoderSemaphore
 648 0060 00807640 		.word	1081507840
 649 0064 00000000 		.word	CurrentValue
 650 0068 00000000 		.word	SetPoint
 651              		.cfi_endproc
 652              	.LFE73:
 654              		.section	.bss.Ud_f_pre.0,"aw",%nobits
 655              		.align	2
 658              	Ud_f_pre.0:
 659 0000 00000000 		.space	4
 660              		.section	.bss.e_pre.1,"aw",%nobits
 661              		.align	2
 664              	e_pre.1:
 665 0000 00000000 		.space	4
 666              		.section	.bss.e_reset.2,"aw",%nobits
 667              		.align	2
 670              	e_reset.2:
 671 0000 00000000 		.space	4
 672              		.section	.bss.Ui_pre.3,"aw",%nobits
 673              		.align	2
 676              	Ui_pre.3:
 677 0000 00000000 		.space	4
 678              		.global	CurrentValue
 679              		.section	.bss.CurrentValue,"aw",%nobits
 680              		.align	2
 683              	CurrentValue:
 684 0000 00000000 		.space	4
 685              		.global	SetPoint
 686              		.section	.bss.SetPoint,"aw",%nobits
 687              		.align	2
 690              	SetPoint:
 691 0000 00000000 		.space	4
 692              		.global	Counter
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 16


 693              		.section	.bss.Counter,"aw",%nobits
 694              		.align	1
 697              	Counter:
 698 0000 0000     		.space	2
 699              		.global	EncoderSemaphore
 700              		.section	.bss.EncoderSemaphore,"aw",%nobits
 701              		.align	2
 704              	EncoderSemaphore:
 705 0000 00000000 		.space	4
 706              		.global	UARTQueue
 707              		.section	.bss.UARTQueue,"aw",%nobits
 708              		.align	2
 711              	UARTQueue:
 712 0000 00000000 		.space	4
 713              		.global	EncoderQueue
 714              		.section	.bss.EncoderQueue,"aw",%nobits
 715              		.align	2
 718              	EncoderQueue:
 719 0000 00000000 		.space	4
 720              		.global	alpha
 721              		.section	.bss.alpha,"aw",%nobits
 722              		.align	2
 725              	alpha:
 726 0000 00000000 		.space	4
 727              		.global	Ts
 728              		.section	.bss.Ts,"aw",%nobits
 729              		.align	2
 732              	Ts:
 733 0000 00000000 		.space	4
 734              		.global	Kb
 735              		.section	.bss.Kb,"aw",%nobits
 736              		.align	2
 739              	Kb:
 740 0000 00000000 		.space	4
 741              		.global	Kd
 742              		.section	.bss.Kd,"aw",%nobits
 743              		.align	2
 746              	Kd:
 747 0000 00000000 		.space	4
 748              		.global	Ki
 749              		.section	.bss.Ki,"aw",%nobits
 750              		.align	2
 753              	Ki:
 754 0000 00000000 		.space	4
 755              		.global	Kp
 756              		.section	.bss.Kp,"aw",%nobits
 757              		.align	2
 760              	Kp:
 761 0000 00000000 		.space	4
 762              		.global	Low_lim
 763              		.section	.bss.Low_lim,"aw",%nobits
 764              		.align	1
 767              	Low_lim:
 768 0000 0000     		.space	2
 769              		.global	High_lim
 770              		.section	.bss.High_lim,"aw",%nobits
 771              		.align	1
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 17


 774              	High_lim:
 775 0000 0000     		.space	2
 776              		.text
 777              	.Letext0:
 778              		.file 2 "C:/Arm-gnu-toolchain/arm-none-eabi/include/machine/_default_types.h"
 779              		.file 3 "C:/Arm-gnu-toolchain/arm-none-eabi/include/sys/_stdint.h"
 780              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 781              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 782              		.file 6 "ThirdParty/FreeRTOS/include/projdefs.h"
 783              		.file 7 "ThirdParty/FreeRTOS/portable/GCC/ARM_CM3/portmacro.h"
 784              		.file 8 "ThirdParty/FreeRTOS/include/task.h"
 785              		.file 9 "ThirdParty/FreeRTOS/include/queue.h"
 786              		.file 10 "ThirdParty/FreeRTOS/include/semphr.h"
 787              		.file 11 "Core/Src/Drivers/Inc/timer_Driver.h"
 788              		.file 12 "Core/Src/Drivers/Inc/gpio_Driver.h"
 789              		.file 13 "Core/Src/Drivers/Inc/usart_Driver.h"
 790              		.file 14 "Core/Src/Drivers/Inc/SysConfig.h"
 791              		.file 15 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 18


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:19     .text.TIM4_IRQHandler:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:25     .text.TIM4_IRQHandler:00000000 TIM4_IRQHandler
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:70     .text.TIM4_IRQHandler:0000002c $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:697    .bss.Counter:00000000 Counter
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:76     .text.TIM2_IRQHandler:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:82     .text.TIM2_IRQHandler:00000000 TIM2_IRQHandler
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:162    .text.TIM2_IRQHandler:00000058 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:718    .bss.EncoderQueue:00000000 EncoderQueue
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:704    .bss.EncoderSemaphore:00000000 EncoderSemaphore
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:169    .text.main:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:175    .text.main:00000000 main
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:273    .text.main:00000074 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:711    .bss.UARTQueue:00000000 UARTQueue
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:580    .text.ControllerTask:00000000 ControllerTask
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:291    .text.PID:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:297    .text.PID:00000000 PID
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:545    .text.PID:00000140 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:774    .bss.High_lim:00000000 High_lim
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:767    .bss.Low_lim:00000000 Low_lim
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:760    .bss.Kp:00000000 Kp
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:753    .bss.Ki:00000000 Ki
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:746    .bss.Kd:00000000 Kd
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:739    .bss.Kb:00000000 Kb
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:732    .bss.Ts:00000000 Ts
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:725    .bss.alpha:00000000 alpha
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:676    .bss.Ui_pre.3:00000000 Ui_pre.3
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:670    .bss.e_reset.2:00000000 e_reset.2
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:664    .bss.e_pre.1:00000000 e_pre.1
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:658    .bss.Ud_f_pre.0:00000000 Ud_f_pre.0
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:574    .text.ControllerTask:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:644    .text.ControllerTask:00000050 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:683    .bss.CurrentValue:00000000 CurrentValue
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:690    .bss.SetPoint:00000000 SetPoint
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:655    .bss.Ud_f_pre.0:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:661    .bss.e_pre.1:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:667    .bss.e_reset.2:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:673    .bss.Ui_pre.3:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:680    .bss.CurrentValue:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:687    .bss.SetPoint:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:694    .bss.Counter:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:701    .bss.EncoderSemaphore:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:708    .bss.UARTQueue:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:715    .bss.EncoderQueue:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:722    .bss.alpha:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:729    .bss.Ts:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:736    .bss.Kb:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:743    .bss.Kd:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:750    .bss.Ki:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:757    .bss.Kp:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:764    .bss.Low_lim:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s:771    .bss.High_lim:00000000 $d

UNDEFINED SYMBOLS
Get_Encoder
xQueueGenericSendFromISR
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\ccCi0Yrh.s 			page 19


xQueueGiveFromISR
HAL_Init
SystemClock_Config
MX_GPIO_Init
USART1_Init
Base_Init
Encoder_Init
PWM_init
LED_PC13
xQueueGenericCreate
xQueueGenericSend
xTaskCreate
vTaskStartScheduler
__aeabi_fsub
__aeabi_fmul
__aeabi_f2d
__aeabi_fadd
__aeabi_fdiv
__aeabi_dmul
__aeabi_dadd
__aeabi_d2f
__aeabi_f2iz
__aeabi_ui2f
RotationMode
PWM_Set
__aeabi_i2d
__aeabi_ddiv
xQueueReceive
xQueueSemaphoreTake
